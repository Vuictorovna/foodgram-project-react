///Подписка, отписка, список на кого подписан
@api_view(["GET", "POST", "DELETE"])
def create_delete(request, user_id=None):
    if request.method == "GET":
        user = request.user
        queryset = user.follower.all()
        serializer = FollowListSerializer(queryset, many=True)
        return Response(serializer.data)

    elif request.method == "POST":
        serializer = FollowListSerializer(data=request.data)
        current_user = request.user
        following = get_object_or_404(User, id=user_id)
        if serializer.is_valid():
            if current_user != following:
                serializer.save(user=current_user, following=following)
                return Response(
                    serializer.data, status=status.HTTP_201_CREATED
                )
            raise ValidationError("Нельзя подписаться на самого себя")
        return Response(serializer.errors, status=status.HTTP_400_BAD_REQUEST)

    elif request.method == "DELETE":
        current_user = request.user
        following = get_object_or_404(User, id=user_id)
        get_object_or_404(
            Follow, user=current_user, following=following
        ).delete()

    return Response(status=status.HTTP_204_NO_CONTENT)

    # re_path(r"users/(?P<user_id>\d+)/subscribe", create_delete),
    # path("users/subscriptions/", create_delete),
